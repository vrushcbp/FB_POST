<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Post</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="./font-awesome-4.7.0/css/font-awesome.min.css">
    <link href="./styles.css" rel="stylesheet" />
</head>

<body>
    <div class="container">
        <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModal"
            aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <!-- <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div> -->
                    <div class="modal-body">
                        <div class='post_form center' id="post_form_id">
                            <!-- <i id='close_form_id' class='fa fa-remove top_right'></i> -->
                            <div class='text_container'>
                                <div class='flex-fill'>
                                    <i class="fa fa-user-circle-o fa-3x" aria-hidden="true"></i>
                                    <div>
                                        <input class='post_ip' id='content' type="text" name="content"
                                            placeholder="Write something here..." autocomplete="off" />
                                        <div class="gif_input">
                                            <div id='selectedGIF'></div>
                                        </div>
                                    </div>
                                </div>
                                <div class='upload_option_container'>
                                    <button id='gif_btn_id' class='gif_btn'>GIF</button>
                                    <div id='gif_modal_id' class="gif_modal hide_gif noneDisplay">
                                        <div class='modal_tip'>
                                        </div>
                                        <div class='gif_search'>
                                            <input type="text" placeholder="Search GIF..." name="" />
                                        </div>
                                        <div class='gif_list'>
                                            <img src='https://media4.giphy.com/media/3ohhwDGYvd2LQ2KQtW/giphy.webp?cid=ecf05e47msa8t8cr9j0f269m6r40o42110vdtrj8kh3ttqud&rid=giphy.webp&ct=g'
                                                onclick=selectGIF(this)>
                                            <img src='https://media2.giphy.com/media/3XrAfHxRxropW/200w.webp?cid=ecf05e47msa8t8cr9j0f269m6r40o42110vdtrj8kh3ttqud&rid=200w.webp&ct=g'
                                                onclick=selectGIF(this)>
                                            <img src='https://media2.giphy.com/media/kdiLau77NE9Z8vxGSO/200w.webp?cid=ecf05e47msa8t8cr9j0f269m6r40o42110vdtrj8kh3ttqud&rid=200w.webp&ct=g'
                                                onclick=selectGIF(this)>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        <button class='float-right btn btn-primary' onclick='submitPost()' data-dismiss="modal">
                            Post
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div class='post_update'>
            <div class='flex-fill'>
                <i class="fa fa-user-circle-o fa-3x" aria-hidden="true"></i>
                <div class='post_input' data-toggle="modal" data-target="#exampleModal">What's on your mind, Vrushabh?
                </div>
                <div class="gif_input">
                </div>
            </div>

            <!-- <input type='text' id='postupdateId' placeholder="What's on your mind, Vrushabh?" /> -->
            <div class="post_list" id='postsListId'>
                <!-- <div class="list">
                    <i class="fa fa-user-circle-o fa-2x" aria-hidden="true"></i>
                    <div class='list_text'>
                        testing for the checking of list of posts in design.
                    </div>
                </div> -->
            </div>
        </div>
</body>
<script>
    var isGIFOpen = true;
    // var isPostFormOpen = true;
    var modal = document.querySelector('#gif_modal_id');
    var postArry = [];
    // var postForm = document.querySelector('#post_form_id');
    // var body = document.querySelector('body');

    // to open GIF
    document.querySelector('#gif_btn_id').addEventListener('click', () => {
        if (isGIFOpen) {
            modal.classList.add('show_gif');
            modal.classList.remove('hide_gif');
            modal.classList.remove('noneDisplay');
            isGIFOpen = false;
        } else {
            modal.classList.remove('show_gif');
            modal.classList.add('hide_gif');
            modal.classList.add('noneDisplay');
            isGIFOpen = true;
        }
    })


    function selectGIF(param) {
        // console.log(param.src)
        document.querySelector('#selectedGIF').innerHTML = `<img id='gif_select_id' src="${param.src}" alt="testing" />`;
        isGIFOpen = true;
        modal.classList.remove('show_gif');
        modal.classList.add('hide_gif');
        modal.classList.add('noneDisplay');
    }

    function submitPost() {
        var gif = document.querySelector('#gif_select_id');
        var text = document.querySelector('#content');

        postArry.push({
            gif: gif.src,
            text: text.value
        })
        console.log(postArry);
        var html = "";
        postArry.map( d => {
            html += `<div class="list">
                    <i class="fa fa-user-circle-o fa-2x" aria-hidden="true"></i>
                    <div class='list_text'>
                        ${d.text} <br><img src="${d.gif}" style='max-width: 200px;' />
                    </div>
                </div>`
        })
        document.querySelector('#postsListId').innerHTML = html;
        document.querySelector('#selectedGIF').innerHTML = "";
        text.value = "";
    }

    //to open post form
    // document.querySelector('#postupdateId').addEventListener('click', () => {
    //     if (isPostFormOpen) {
    //         postForm.classList.add('show_gif');
    //         postForm.classList.remove('hide_gif');
    //         postForm.classList.remove('noneDisplay');
    //         document.querySelector('body').style.background = '#0000007a'
    //         isPostFormOpen = false;
    //     } 
    //     // else {
    //     //     document.querySelector('body').style.background = 'transparent'
    //     //     postForm.classList.remove('show_gif');
    //     //     postForm.classList.add('hide_gif');
    //     //     postForm.classList.remove('noneDisplay');
    //     //     isPostFormOpen = true;

    //     //     // to remove all modals
    //     //     modal.classList.remove('show_gif');
    //     //     modal.classList.add('hide_gif');
    //     // }
    // })

    // document.querySelector('#close_form_id').addEventListener('click', () => {
    //     body.style.background = 'transparent'
    //     postForm.classList.remove('show_gif');
    //     postForm.classList.add('hide_gif');
    //     postForm.classList.remove('noneDisplay');
    //     isPostFormOpen = true;

    //     // to remove all modals
    //     modal.classList.remove('show_gif');
    //     modal.classList.add('hide_gif');
    // })

    // body.addEventListener('click', () => {
    //     console.log('body clicked')
    // })
</script>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
    integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
    crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
    integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
    crossorigin="anonymous"></script>

</html>



css


*{
    outline: none;
    font-family: 'Ubuntu', sans-serif;
}
body{
    /* background: #0000007a; */
}
button:focus{
    outline: none;
}
.container{
    padding: 2rem 10rem;
}
/* .post_form{
    position: absolute;
    background: white;
    top: 20%;
    min-width: 100%;
    left: 50%;
    transform: translate(-50%, -50%);
} */
.noneDisplay{
    display: none;
}
.flex-fill{
    display: flex;
}
#close_form_id{
    z-index: 1;
}
.top_right{
    position: absolute;
    top: 1rem;
    right: 1rem;
}
.text_container{
    position: relative;
    /* display: flex; */
}
.fa-user-circle-o{
    margin: 0.5rem;
    color: rgb(184, 184, 184);
}
input.post_ip{
    border: none;
    width: calc(100% - -7.5rem);
    min-height: 4rem;
    background: #fafafa;
    padding: 1rem;
    border-radius: 1rem;
}
.post_btn{
    position: absolute;
    bottom: 0.9rem;
    right: 1rem
}
.gif_btn{
    border: none;
    padding: 0.3rem 3rem;
    border-radius: 2rem;
    /* margin: 0.9rem; */
    background: linear-gradient(to right, rgb(182, 114, 184), rgb(97, 13, 97));
    font-weight: bold;
    cursor: pointer;
    color: white;
}
.gif_btn:hover{
    box-shadow: 0px 0px 8px grey;
}

.upload_option_container{
    position: relative;
    margin-top: 2rem;
}
.gif_modal{
    min-width: 200px;
    min-height: 200px;
    padding: 1rem;
    width: 100%;
    background: #e7ebee;
    border-radius: 7px;
    position: absolute;
    top: 3rem;
    left: 0rem;
}
.gif_modal .modal_tip{
    background: #e7ebee;
    width: 20px;
    height: 20px;
    position: absolute;
    transform: rotate( 45deg );
    top: -8px;
    left: 3rem;
    z-index: 1000;
}
.show_gif{
    visibility: visible;
    transition: all 1s;
}
.hide_gif{
    visibility: hidden;
}
.gif_search{
    margin-bottom: 1rem;
}
.gif_search input{
    border: none;
    width: 100%;
    /* min-height: 4rem; */
    background: #fafafa;
    padding: 0.5rem 1rem;
}
.gif_input{
    margin-top: 0.5rem;
}
.gif_input img{
    max-width: 200px;
}
.gif_list img{
    max-width: 200px;
    margin: 5px;
}
.post_input{
    border: 1px solid grey;
    padding: 1.2rem 1rem;
    width: 100%;
    border-radius: 0.5rem;
}
.post_list{
    margin-top: 1rem;
}
.post_list .list{
    display: flex;
    background: rgb(240, 243, 243);
    padding: 0.5rem 1rem;
    border-radius: 0.5rem;
    margin-bottom: 0.5rem;
}


@media screen and (max-width: 940px) {
    .container {
      padding: 2rem;
    }
  }

  @media screen and (max-width: 500px) {
    input.post_ip{
        border: none;
        width: calc(100% - -0.5rem);
        min-height: 4rem;
        background: #fafafa;
        padding: 1rem;
        border-radius: 1rem;
    }
  }